<%= render 'shared/errors', :target => @license %>

<div class="span8">
  <%= form_for @license, :html => {:multipart => true} do |f| %>

    <%= f.label :title %>
    <%= f.text_field :title, :class => 'span7' %>

    <%= f.label :license_key %>
    <%= f.text_field :license_key, :class => 'span7' %>

    <%= f.label :licensed_to %>
    <%= f.text_field :licensed_to, :class => 'span7' %>

    <%= f.label :license_file %>
    <%= f.file_field :license_file %>

    <%= f.label :comments %>
    <%= f.text_area :comments, :class => 'span8', :rows => 6 %>

    <fieldset>
      <legend>Groups</legend>
      <br />
      <%= hidden_field_tag "license[group_ids][]", nil%>
      <% @allowed_groups.each do |group| %>
        <label class="checkbox inline">
          <%= check_box_tag 'license[group_ids][]', group.id, @license.groups.include?(group) %>
          <%= group.name %>
        </label>
      <% end %>
    </fieldset>

    <hr/>
    <button type="submit" class="btn"><%= @license.new_record? ? 'Create' : 'Update' %> License</button>
  <% end %>
</div>
